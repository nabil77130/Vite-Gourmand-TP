{% extends 'base.html.twig' %}
{% block title %}Mon profil{% endblock %}
{% block body %}
<div style="max-width:700px;margin:2rem auto;padding:0 1rem;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;">
        <h1 style="font-size:1.8rem;font-weight:700;">ðŸ‘¤ Mon profil</h1>
        <a href="{{ path('user_orders') }}" style="background:rgba(99,102,241,0.1);color:#6366f1;padding:0.5rem 1rem;border-radius:0.5rem;text-decoration:none;">ðŸ“¦ Mes commandes</a>
    </div>

    {% for flash in app.flashes('success') %}
        <div style="background:rgba(16,185,129,0.15);border:1px solid rgba(16,185,129,0.4);color:#065F46;border-radius:0.5rem;padding:1rem;margin-bottom:1rem;">âœ… {{ flash }}</div>
    {% endfor %}

    <div style="background:white;border-radius:1rem;box-shadow:0 2px 12px rgba(0,0,0,0.08);padding:2rem;">
        {{ form_start(form) }}
        <div style="display:grid;gap:1.25rem;">
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:1rem;">
                <div>{{ form_label(form.firstName) }}{{ form_widget(form.firstName, {attr: {class: 'form-control'}}) }}{{ form_errors(form.firstName) }}</div>
                <div>{{ form_label(form.lastName) }}{{ form_widget(form.lastName, {attr: {class: 'form-control'}}) }}{{ form_errors(form.lastName) }}</div>
            </div>
            <div>{{ form_label(form.phone) }}{{ form_widget(form.phone, {attr: {class: 'form-control'}}) }}{{ form_errors(form.phone) }}</div>
            <div>{{ form_label(form.address) }}{{ form_widget(form.address, {attr: {class: 'form-control'}}) }}{{ form_errors(form.address) }}</div>
            <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem;">
                <div>{{ form_label(form.city) }}{{ form_widget(form.city, {attr: {class: 'form-control'}}) }}{{ form_errors(form.city) }}</div>
                <div>{{ form_label(form.zipCode) }}{{ form_widget(form.zipCode, {attr: {class: 'form-control'}}) }}{{ form_errors(form.zipCode) }}</div>
                <div>{{ form_label(form.pays) }}{{ form_widget(form.pays, {attr: {class: 'form-control'}}) }}{{ form_errors(form.pays) }}</div>
            </div>
        </div>
        <div style="margin-top:1.5rem;">
            <button type="submit" class="btn btn-primary">ðŸ’¾ Enregistrer les modifications</button>
        </div>
        {{ form_end(form) }}
    </div>

    <div style="background:white;border-radius:1rem;box-shadow:0 2px 8px rgba(0,0,0,0.06);padding:1.5rem;margin-top:1.5rem;">
        <h3 style="margin-bottom:0.5rem;font-size:1rem;color:#6b7280;">Identifiants</h3>
        <p><strong>Email :</strong> {{ user.email }}</p>
        <p style="color:#9ca3af;font-size:0.85rem;">Pour modifier votre email ou mot de passe, contactez l'administrateur.</p>
    </div>
</div>
{% endblock %}
