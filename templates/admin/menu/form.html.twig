{% extends 'base.html.twig' %}
{% block title %}{{ title }}{% endblock %}
{% block body %}
<div style="max-width:800px;margin:2rem auto;padding:0 1rem;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;">
        <h1 style="font-size:1.8rem;font-weight:700;">{{ title }}</h1>
        <a href="{{ path('admin_menu_index') }}" style="color:#6b7280;text-decoration:none;">‚Üê Retour aux menus</a>
    </div>

    {% for flash in app.flashes('success') %}
        <div style="background:rgba(16,185,129,0.15);border:1px solid rgba(16,185,129,0.4);color:#065F46;border-radius:0.5rem;padding:1rem;margin-bottom:1rem;">‚úÖ {{ flash }}</div>
    {% endfor %}

    <div style="background:white;border-radius:1rem;box-shadow:0 2px 12px rgba(0,0,0,0.08);padding:2rem;">
        {{ form_start(form) }}
        <div style="display:grid;gap:1.25rem;">
            <div>{{ form_label(form.name) }}{{ form_widget(form.name, {attr: {class: 'form-control'}}) }}{{ form_errors(form.name) }}</div>
            <div>{{ form_label(form.description) }}{{ form_widget(form.description, {attr: {class: 'form-control', rows: 4}}) }}{{ form_errors(form.description) }}</div>
            <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem;">
                <div>{{ form_label(form.price) }}{{ form_widget(form.price, {attr: {class: 'form-control'}}) }}{{ form_errors(form.price) }}</div>
                <div>{{ form_label(form.minPeople) }}{{ form_widget(form.minPeople, {attr: {class: 'form-control'}}) }}{{ form_errors(form.minPeople) }}</div>
                <div>{{ form_label(form.stock) }}{{ form_widget(form.stock, {attr: {class: 'form-control'}}) }}{{ form_errors(form.stock) }}</div>
            </div>
            <div>
                <label style="font-weight:600;display:block;margin-bottom:0.5rem;">Plats composant ce menu</label>
                <div style="max-height:250px;overflow-y:auto;border:1px solid #e5e7eb;border-radius:0.5rem;padding:1rem;display:grid;grid-template-columns:1fr 1fr;gap:0.5rem;">
                    {{ form_widget(form.products) }}
                </div>
                {{ form_errors(form.products) }}
            </div>
        </div>
        <div style="margin-top:1.5rem;display:flex;gap:1rem;">
            <button type="submit" class="btn btn-primary">üíæ Enregistrer</button>
            <a href="{{ path('admin_menu_index') }}" style="padding:0.6rem 1.2rem;border-radius:0.5rem;border:1px solid #e5e7eb;text-decoration:none;color:#6b7280;">Annuler</a>
        </div>
        {{ form_end(form) }}
    </div>
</div>
{% endblock %}
